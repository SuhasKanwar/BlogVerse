<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head') %>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/profile-edit.css" />
</head>
<body>
    <div class="page-container">
        <%- include('partials/header') %>
        <div class="profile-container">
            <div class="profile-card">
                <div class="card-header">
                    <h1>Edit Profile</h1>
                </div>
                
                <div class="card-content">
                    <form action="/profile/edit/<%= user._id %>" method="POST" enctype="multipart/form-data">
                        <div class="image-upload-container">
                            <div class="profile-image-wrapper">
                                <% if (user.profileImageURL) { %>
                                    <img src="<%= user.profileImageURL %>" alt="Profile" class="profile-image">
                                <% } else { %>
                                    <div class="profile-image-placeholder">
                                        <span>Upload Image</span>
                                    </div>
                                <% } %>
                                <label class="image-upload-button">
                                    <input type="file" name="profileImage" id="profileImage">
                                    <span class="upload-icon">+</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="fullName">Full Name</label>
                                <input type="text" name="fullName" id="fullName" value="<%= user.fullName || '' %>" placeholder="Enter your full name" required>
                            </div>

                            <div class="form-group">
                                <label for="userName">Username</label>
                                <input type="text" name="userName" id="userName" value="<%= user.userName || '' %>" placeholder="Enter your username" required>
                            </div>

                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" name="email" id="email" value="<%= user.email || '' %>" placeholder="Enter your email" required>
                            </div>

                            <div class="form-group">
                                <label for="dateOfBirth">Date of Birth</label>
                                <input type="date" name="dateOfBirth" id="dateOfBirth" value="<%= user.dateOfBirth ? new Date(user.dateOfBirth).toISOString().split('T')[0] : '' %>">
                            </div>

                            <div class="form-group">
                                <label for="occupation">Occupation</label>
                                <input type="text" name="occupation" id="occupation" value="<%= user.occupation || '' %>" placeholder="Enter your occupation">
                            </div>

                            <div class="form-group">
                                <label for="location">Location</label>
                                <input type="text" name="location" id="location" value="<%= user.location || '' %>" placeholder="Enter your location">
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label for="bio">Bio</label>
                            <textarea name="bio" id="bio" rows="4" placeholder="Write something about yourself..."><%= user.bio || '' %></textarea>
                        </div>

                        <div class="social-links-section">
                            <h3>Social Links</h3>
                            <div class="social-links-grid">
                                <div class="form-group">
                                    <label for="facebook">Facebook</label>
                                    <input type="url" name="facebook" id="facebook" value="<%= user.socials?.facebook || '' %>" placeholder="Facebook profile URL">
                                </div>
                                <div class="form-group">
                                    <label for="twitter">Twitter</label>
                                    <input type="url" name="twitter" id="twitter" value="<%= user.socials?.twitter || '' %>" placeholder="Twitter profile URL">
                                </div>
                                <div class="form-group">
                                    <label for="instagram">Instagram</label>
                                    <input type="url" name="instagram" id="instagram" value="<%= user.socials?.instagram || '' %>" placeholder="Instagram profile URL">
                                </div>
                                <div class="form-group">
                                    <label for="linkedin">LinkedIn</label>
                                    <input type="url" name="linkedin" id="linkedin" value="<%= user.socials?.linkedin || '' %>" placeholder="LinkedIn profile URL">
                                </div>
                                <div class="form-group">
                                    <label for="github">GitHub</label>
                                    <input type="url" name="github" id="github" value="<%= user.socials?.github || '' %>" placeholder="GitHub profile URL">
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="submit-button">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <%- include('partials/footer') %>
    </div>
</body>
</html>