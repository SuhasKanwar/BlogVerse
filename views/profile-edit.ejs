<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head') %>
    <link rel="stylesheet" href="/styles/profile-edit.css" />
</head>
<body>
    <div class="container">
        <%- include('partials/header') %>
        <div class="profile-container">
            <h1>Edit Profile</h1>
            <form action="/profile/edit/<%= user._id %>" method="POST" enctype="multipart/form-data">
                <!-- Full Name -->
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" name="fullName" id="fullName" value="<%= user.fullName || '' %>" placeholder="Enter your full name" required>
                </div>
            
                <!-- Email -->
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email" value="<%= user.email || '' %>" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="profileImage">Profile Image</label>
                    <input type="file" name="profileImage" id="profileImage">
                    <% if (user.profileImageURL) { %>
                        <img src="<%= user.profileImageURL %>" alt="Profile Image" style="max-width: 200px; margin-top: 10px;">
                    <% } %>
                </div>
                
                <!-- Bio -->
                <div class="form-group">
                    <label for="bio">Bio</label>
                    <textarea name="bio" id="bio" rows="5" placeholder="Write something about yourself..."><%= user.bio || '' %></textarea>
                </div>
            
                <!-- Date of Birth -->
                <div class="form-group">
                    <label for="dateOfBirth">Date of Birth</label>
                    <input type="date" name="dateOfBirth" id="dateOfBirth" value="<%= user.dateOfBirth ? new Date(user.dateOfBirth).toISOString().split('T')[0] : '' %>">
                </div>
            
                <!-- Gender -->
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select name="gender" id="gender">
                        <option value="Male" <%= user.gender === 'Male' ? 'selected' : '' %>>Male</option>
                        <option value="Female" <%= user.gender === 'Female' ? 'selected' : '' %>>Female</option>
                    </select>
                </div>
                
                <!-- Social Links -->
                <div class="form-group">
                    <label for="facebook">Facebook</label>
                    <input type="url" name="facebook" id="facebook" value="<%= user.socials?.facebook || '' %>" placeholder="Facebook link">
                </div>
                <div class="form-group">
                    <label for="twitter">Twitter</label>
                    <input type="url" name="twitter" id="twitter" value="<%= user.socials?.twitter || '' %>" placeholder="Twitter link">
                </div>
                <div class="form-group">
                    <label for="instagram">Instagram</label>
                    <input type="url" name="instagram" id="instagram" value="<%= user.socials?.instagram || '' %>" placeholder="Instagram link">
                </div>
                <div class="form-group">
                    <label for="linkedin">LinkedIn</label>
                    <input type="url" name="linkedin" id="linkedin" value="<%= user.socials?.linkedin || '' %>" placeholder="LinkedIn link">
                </div>
                <div class="form-group">
                    <label for="github">GitHub</label>
                    <input type="url" name="github" id="github" value="<%= user.socials?.github || '' %>" placeholder="GitHub link">
                </div>
            
                <!-- Submit Button -->
                <button type="submit" class="btn">Save Changes</button>
            </form>
            
        </div>
        <%- include('partials/footer') %>
    </div>
</body>
</html>